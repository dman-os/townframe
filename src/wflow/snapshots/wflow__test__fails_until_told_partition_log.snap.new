---
source: src/wflow/test.rs
assertion_line: 438
expression: log_snapshot
---
- - 0
  - JobInit:
      job_id: test-fails-until-told-1
      timestamp: "[timestamp]"
      args_json: "{\"key\":\"test-flag\"}"
      override_wflow_retry_policy: ~
      wflow:
        key: fails_until_told
        service:
          Wasmcloud:
            workload_id: workload_123
- - 1
  - JobPartitionEffects:
      source_entry_id: 0
      effects:
        - job_id: test-fails-until-told-1
          deets:
            RunJob:
              run_id: 0
- - 2
  - JobEffectResult:
      job_id: test-fails-until-told-1
      timestamp: "[timestamp]"
      effect_id:
        entry_id: 1
        effect_idx: 0
      run_id: 0
      start_at: "[timestamp]"
      end_at: "[timestamp]"
      result:
        WflowErr:
          Transient:
            error_json: "{\"msg\":\"waiting for flag to be set\\n\\[location]\"}"
            retry_policy: ~
- - 3
  - JobPartitionEffects:
      source_entry_id: 2
      effects:
        - job_id: test-fails-until-told-1
          deets:
            RunJob:
              run_id: 1
- - 4
  - JobEffectResult:
      job_id: test-fails-until-told-1
      timestamp: "[timestamp]"
      effect_id:
        entry_id: 3
        effect_idx: 0
      run_id: 1
      start_at: "[timestamp]"
      end_at: "[timestamp]"
      result:
        WflowErr:
          Transient:
            error_json: "{\"msg\":\"waiting for flag to be set\\n\\[location]\"}"
            retry_policy: ~
- - 5
  - JobPartitionEffects:
      source_entry_id: 4
      effects:
        - job_id: test-fails-until-told-1
          deets:
            RunJob:
              run_id: 2
- - 6
  - JobEffectResult:
      job_id: test-fails-until-told-1
      timestamp: "[timestamp]"
      effect_id:
        entry_id: 5
        effect_idx: 0
      run_id: 2
      start_at: "[timestamp]"
      end_at: "[timestamp]"
      result:
        StepEffect:
          step_id: 0
          attempt_id: 0
          start_at: "[timestamp]"
          end_at: "[timestamp]"
          deets:
            Success:
              value_json: "null"
- - 7
  - JobPartitionEffects:
      source_entry_id: 6
      effects:
        - job_id: test-fails-until-told-1
          deets:
            RunJob:
              run_id: 3
- - 8
  - JobEffectResult:
      job_id: test-fails-until-told-1
      timestamp: "[timestamp]"
      effect_id:
        entry_id: 7
        effect_idx: 0
      run_id: 3
      start_at: "[timestamp]"
      end_at: "[timestamp]"
      result:
        Success:
          value_json: "null"
