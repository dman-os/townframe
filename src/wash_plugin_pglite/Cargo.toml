[package]
name = "wash_plugin_pglite"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true

[lints]
workspace = true

[lib]
path = "lib.rs"

[dependencies]
# internal
utils_rs.workspace = true

# wasm
wasmtime.workspace = true
wasmtime-wasi.workspace = true
wash-runtime.workspace = true

# async
tokio = { workspace = true, features = ["rt-multi-thread", "macros", "sync"] }
async-trait.workspace = true

# error
thiserror.workspace = true
anyhow.workspace = true

# logging
tracing.workspace = true

# runtime installation
directories = "5"
tar = "0.4"
flate2 = "1"
getrandom = "0.2"
zstd = "0.13"

# encoding
serde.workspace = true
serde_json.workspace = true
bytes.workspace = true
postgres-protocol = "0.6.9"
fallible-iterator = "0.2"
uuid.workspace = true
time = { workspace = true, default-features = false, features = ["serde", "parsing", "formatting"] }
[build-dependencies]
reqwest = { version = "0.11", features = ["blocking", "rustls-tls"] }
sha2 = "0.10"
xz2 = "0.1"
tar = "0.4"
zstd = "0.13"
wasmtime.workspace = true

[dev-dependencies]
tempfile.workspace = true
tracing-subscriber.workspace = true
