# TODO

- Immediate proveout
  - [ ] Plugins/extensability
    - [ ] Registry
      - [ ] OCI based
    - [x] Un-previlaged processors should go in their own branch
  - [ ] Chatbot
  - [ ] Generated UI
  - [ ] FUSE
  - [ ] Programmability
    - Dynamic processors, defined in document?
      - I could just describe to the LLM what the document is to do and it could write it
  - [ ] Granary

## Stack

- [ ] `mltools`
  - [ ] OCR
    - [ ] Local
  - [ ] Embeedding
    - [ ] Local
  - [ ] API client
  - [ ] Router
  - [ ] durable-streams
  - [ ] Model manager
    - [ ] Store in repo
- [ ] daybook_server
  - [ ] Decide on wrpc vs json
- [ ] CI/CD
  - [ ] Publish
    - [ ] Docker image
    - [ ] WASM OCI
    - [ ] Android APK 
      - [ ] to F-Droid
    - [ ] Linux Appimage
      - [ ] to Flathub
    - [ ] Windows.exe
      - [ ] to Scoop.sh
- [ ] Overhaul bottom bar
- [ ] Receipt parsing
- [ ] Pending jobs [LOST]
- [ ] Repos
  - [ ] Profiles
  - [x] CLI support
    - [ ] Make it nice
  - [ ] GUI support
- [ ] Blobs server
  - [ ] Chunked hashing for transfers
    - Chunks at rest?
- [ ] P2P
  - [ ] iroh

- [ ] Cleanup for public pre-alpha

- [ ] Drawers v2
  - [ ] Constrain value shapes for known keys at drawer
  - [x] Rename props to facets
  - [x] `dmeta`
  - [x] LRU caches
  - [ ] JSONSchema checks
  - [x] Facet ref index
  - [x] URLs
    - [x] Facet URL
    - [x] Doc URL
  - [ ] `dpath`
- [ ] Plugins
  - [x] Manifest
  - [ ] Commands
    - [x] `daybook x command`
  - [ ] Rt
    - [x] Wflow preparation
    - [x] Predicates
  - [ ] Handlers
  - [x] Processors
  - [ ] OCI
- [ ] File lock on repo
- [ ] daybook_cli
    - [ ] `daybook pset docId propKey value`
    - [ ] `daybook pget docId propKey`
    - [ ] `daybook grep`
    - [ ] `daybook sed`
- [ ] Cancellation and shutdown
  - [ ] Kotlin repo's should call close
  - [ ] Assert samod fsyncs reliably
  - [ ] Notification handling
    - [ ] How to avoid missing triage work?
- [ ] wflow
  - [ ] Non-wasm impl
    - [ ] Catch panics
  - [x] in-memory smoke
  - [ ] Ingress workload [server]
  - [ ] Durablity
  - [x] Snapshots
  - [ ] Use flatbuffers instead of JSON
  - [ ] web UI
  - [ ] Service for wflow_tokio [LOST]
- [ ] pauperfuse
- [ ] Deploy
  - [ ] Buy domain
    - [ ] https://daybook.tf
    - [ ] https://daybook.com
    - [ ] https://motherton.db.tf
    - [ ] https://mother.ton.tf
    - [ ] https://mother.town.tf
- [ ] PgLite based testing
- [ ] Convert DHashMap to be wrapper around RwLock<HashMap>
- [ ] DRY up all the wit bindgen
- [ ] Move http tests into api crates
  - [ ] Replace http with wrpc?
- [ ] Code generator for http wrapper
- [ ] Policy against tokio mutexes (cancel safety)
- [ ] Move to wasmcloud v2
  - [ ] Use async on wit_bindgen
    - [ ] Replace tokio with wstd or wit_bindgen::block_on
  - [ ] Wasi 0.3
    - [ ] wRPC everything??
- [x] Replace time with jiff??
- [ ] Pipeline editor web app
- [ ] wrpc + iroh
- [ ] Magic wand
  - [ ] Follow bubble behavior from android
  - [ ] Status bar/Gesture bar insets for puck and widgets
  - [ ] Puck drop required to be on center bug
- [ ] Tutorial
- [ ] WYSIWYG editor
- [ ] FUSE
  - [ ] Make it feature complete
- [ ] PgLite
  - [ ] Get parametrized queries to work
  - [ ] It should accept engine from outside
- [ ] autosurgeon
  - [ ] Automorph
  - [ ] Finish autosurgeon::Patch
  - [ ] autosurgeon does't respect serde attribs like untagged and camelCase
    - [ ] Fork with context generic programming?
    - So I've implemented ThroughJson as a solution for this
- [ ] Lints and pre-commit hooks
  - [ ] Triple X comment detector
- [ ] UI tests
- [ ] Cross-platform testing
  - [ ] iOS
  - [ ] Windows
  - [ ] macOS

## Upstream Issues

- [ ] Get cargo-doc-md to work reliably
